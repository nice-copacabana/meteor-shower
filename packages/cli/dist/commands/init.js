// Generated by Qoder AI (Model: claude-sonnet-4-20250514) - 2025-10-14
// Task: å®ç°CLI initå‘½ä»¤çš„äº¤äº’å¼é…ç½®å‘å¯¼ï¼ˆæ”¯æŒæ‰€æœ‰4ä¸ªå·¥å…·ï¼‰
/**
 * åˆå§‹åŒ–å‘½ä»¤æ¨¡å—
 * è´Ÿè´£å¼•å¯¼ç”¨æˆ·å®Œæˆå·¥å…·é›†é€‰æ‹©ã€æ¨¡æ¿é…ç½®å’Œå˜é‡æ”¶é›†
 */
import inquirer from 'inquirer'; // äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢
import chalk from 'chalk'; // ç»ˆç«¯é¢œè‰²è¾“å‡º
import { ConfigGenerator } from '@meteor-shower/utils'; // é…ç½®ç”Ÿæˆå™¨
import fs from 'fs/promises'; // æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
import path from 'path'; // è·¯å¾„æ“ä½œ
import ora from 'ora'; // åŠ è½½åŠ¨ç”»
import { createCLITierHelper } from '../helpers/tier-helper.js'; // ç”¨æˆ·å±‚çº§è¾…åŠ©
/**
 * åˆå§‹åŒ–å‘½ä»¤ä¸»å‡½æ•°
 * å¼•å¯¼ç”¨æˆ·å®Œæˆå®Œæ•´çš„é…ç½®åˆå§‹åŒ–æµç¨‹
 *
 * æµç¨‹æ­¥éª¤ï¼š
 * 1. å·¥å…·é›†é€‰æ‹© - å¤é€‰æ¡†å½¢å¼é€‰æ‹©è¦é…ç½®çš„AIå·¥å…·
 * 2. æ¨¡æ¿é€‰æ‹© - å•é€‰æ¡†é€‰æ‹©é…ç½®æ¨¡æ¿
 * 3. å˜é‡æ”¶é›† - æ ¹æ®æ¨¡æ¿å’Œå·¥å…·é›†æ”¶é›†å¿…è¦å˜é‡
 * 4. ç»“æœè¾“å‡º - æ˜¾ç¤ºé…ç½®æ‘˜è¦
 *
 * @param options åˆå§‹åŒ–é€‰é¡¹ï¼Œå¯é€‰çš„é¢„è®¾å‚æ•°
 * @returns åŒ…å«å·¥å…·é›†ã€æ¨¡æ¿å’Œå˜é‡çš„é…ç½®å¯¹è±¡
 */
export async function initCommand(options = {}) {
    console.log(chalk.cyan.bold('\nğŸš€ åˆå§‹åŒ– meteor-shower é…ç½®\n'));
    // æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
    console.log(chalk.gray('  meteor-shower å°†å¸®åŠ©æ‚¨é…ç½®å¤šä¸ª AI ç¼–ç¨‹å·¥å…·'));
    console.log(chalk.gray('  æ”¯æŒ: Gemini, Claude, Cursor, OpenAI\n'));
    // æ­¥éª¤0: æ£€æŸ¥ç”¨æˆ·å±‚çº§å’Œé…é¢ï¼ˆå¦‚æœå·²ç™»å½•ï¼‰
    const userId = process.env.METEOR_USER_ID;
    const tierHelper = createCLITierHelper();
    if (userId) {
        const quotaCheck = await tierHelper.checkToolQuota(userId);
        if (!quotaCheck.allowed) {
            console.log(chalk.red(`\nâŒ é…é¢é™åˆ¶: ${quotaCheck.reason}`));
            console.log('');
            tierHelper.displayQuotaInfo(quotaCheck);
            tierHelper.displayUpgradePrompt(quotaCheck);
            tierHelper.close();
            return;
        }
        // æ˜¾ç¤ºé…é¢ä¿¡æ¯
        if (quotaCheck.remaining !== -1) {
            console.log(chalk.gray(`  å‰©ä½™å·¥å…·é…ç½®é…é¢: ${quotaCheck.remaining}\n`));
        }
    }
    // ========== ç¬¬1æ­¥ï¼šå·¥å…·é›†é€‰æ‹© ==========
    console.log(chalk.yellow('ğŸ“¦ æ­¥éª¤ 1/4: é€‰æ‹©å·¥å…·é›†\n'));
    const { toolset } = await inquirer.prompt([{
            type: 'checkbox',
            name: 'toolset',
            message: 'é€‰æ‹©è¦é…ç½®çš„ AI å·¥å…· (ä½¿ç”¨ç©ºæ ¼é€‰æ‹©, Enterç¡®è®¤):',
            choices: [
                {
                    name: 'Gemini CLI - Google æœ€æ–°AIæ¨¡å‹',
                    value: 'gemini',
                    checked: true
                },
                {
                    name: 'Claude - Anthropic æ——èˆ°æ¨¡å‹',
                    value: 'claude',
                    checked: true
                },
                {
                    name: 'Cursor - AIç¼–ç¨‹IDE',
                    value: 'cursor'
                },
                {
                    name: 'OpenAI - GPTç³»åˆ—æ¨¡å‹',
                    value: 'openai'
                }
            ],
            validate: (answer) => {
                if (answer.length < 1) {
                    return 'è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªå·¥å…·';
                }
                return true;
            }
        }]);
    console.log(chalk.green(`âœ“ å·²é€‰æ‹© ${toolset.length} ä¸ªå·¥å…·: ${toolset.join(', ')}\n`));
    // ========== ç¬¬2æ­¥ï¼šæ¨¡æ¿é€‰æ‹© ==========
    console.log(chalk.yellow('ğŸ“ æ­¥éª¤ 2/4: é€‰æ‹©é…ç½®æ¨¡æ¿\n'));
    const templateChoices = getTemplateChoices(toolset);
    const { template } = await inquirer.prompt([{
            type: 'list',
            name: 'template',
            message: 'é€‰æ‹©é…ç½®æ¨¡æ¿:',
            choices: templateChoices,
            pageSize: 10
        }]);
    console.log(chalk.green(`âœ“ å·²é€‰æ‹©æ¨¡æ¿: ${template}\n`));
    // ========== ç¬¬3æ­¥ï¼šå˜é‡æ”¶é›† ==========
    console.log(chalk.yellow('âš™ï¸  æ­¥éª¤ 3/4: é…ç½®é¡¹ç›®å˜é‡\n'));
    const variables = await collectVariables(template, toolset);
    console.log(chalk.green(`âœ“ å·²æ”¶é›† ${Object.keys(variables).length} ä¸ªé…ç½®å˜é‡\n`));
    // ========== ç¬¬4æ­¥ï¼šç»“æœè¾“å‡ºå’Œé…ç½®ä¿å­˜ ==========
    console.log(chalk.yellow('ğŸ’¾ æ­¥éª¤ 4/4: ç”Ÿæˆé…ç½®è®¡åˆ’\n'));
    const spinner = ora('æ­£åœ¨ç”Ÿæˆé…ç½®è®¡åˆ’...').start();
    try {
        const generator = new ConfigGenerator();
        const configPlan = await generator.generateConfig(toolset, template, variables);
        // ä¿å­˜é…ç½®è®¡åˆ’åˆ°æ–‡ä»¶
        const planPath = path.join(process.cwd(), '.meteor-shower', 'config-plan.json');
        await fs.mkdir(path.dirname(planPath), { recursive: true });
        await fs.writeFile(planPath, JSON.stringify(configPlan, null, 2), 'utf-8');
        spinner.succeed('é…ç½®è®¡åˆ’å·²ç”Ÿæˆï¼');
        // æ›´æ–°ä½¿ç”¨é‡ç»Ÿè®¡
        if (userId) {
            await tierHelper.incrementToolUsage(userId);
        }
        tierHelper.close();
        // æ˜¾ç¤ºæ‘˜è¦ä¿¡æ¯
        console.log(chalk.cyan('\nğŸ“Š é…ç½®æ‘˜è¦:'));
        console.log(chalk.gray('â”'.repeat(50)));
        console.log(chalk.white(`  å·¥å…·é›†:     ${toolset.join(', ')}`));
        console.log(chalk.white(`  æ¨¡æ¿:       ${template}`));
        console.log(chalk.white(`  å˜é‡æ•°é‡:   ${Object.keys(variables).length}`));
        console.log(chalk.white(`  é…ç½®æ–‡ä»¶:   ${configPlan.operations.length} ä¸ª`));
        console.log(chalk.white(`  è®¡åˆ’æ–‡ä»¶:   ${planPath}`));
        console.log(chalk.gray('â”'.repeat(50)));
        // æ˜¾ç¤ºä¸‹ä¸€æ­¥æŒ‡å¼•
        console.log(chalk.cyan('\nğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œ:'));
        console.log(chalk.white('  1. è¿è¡Œ ' + chalk.yellow('ms diff') + ' æŸ¥çœ‹é…ç½®å·®å¼‚'));
        console.log(chalk.white('  2. è¿è¡Œ ' + chalk.yellow('ms apply') + ' åº”ç”¨é…ç½®'));
        console.log(chalk.white('  3. è¿è¡Œ ' + chalk.yellow('ms share') + ' åˆ†äº«é…ç½®åˆ°äº‘ç«¯'));
        console.log('');
    }
    catch (error) {
        spinner.fail('ç”Ÿæˆé…ç½®è®¡åˆ’å¤±è´¥');
        console.error(chalk.red('\nâŒ é”™è¯¯è¯¦æƒ…:'), error);
        throw error;
    }
    return { toolset, template, variables };
}
/**
 * å˜é‡æ”¶é›†å‡½æ•°
 * æ ¹æ®é€‰æ‹©çš„æ¨¡æ¿å’Œå·¥å…·é›†ï¼Œæ”¶é›†ç”¨æˆ·ç‰¹å®šçš„é…ç½®å˜é‡
 *
 * å˜é‡ç±»å‹ï¼š
 * - projectName: é¡¹ç›®åç§°ï¼Œç”¨äºä¸ªæ€§åŒ–é…ç½®
 * - persona: AIè§’è‰²æè¿°ï¼Œå½±å“å·¥å…·çš„è¡Œä¸ºå’Œå“åº”é£æ ¼
 *
 * @param template é€‰æ‹©çš„æ¨¡æ¿åç§°
 * @param toolset é€‰æ‹©çš„å·¥å…·é›†æ•°ç»„
 * @returns æ”¶é›†çš„å˜é‡å¯¹è±¡
 */
async function collectVariables(template, toolset) {
    const variables = {};
    // æ”¶é›†åŸºç¡€å˜é‡
    console.log(chalk.gray('  åŸºç¡€é…ç½®\n'));
    const { projectName, persona, projectDescription } = await inquirer.prompt([
        {
            type: 'input',
            name: 'projectName',
            message: 'é¡¹ç›®åç§°:',
            default: path.basename(process.cwd()),
            validate: (input) => input.length > 0 || 'é¡¹ç›®åç§°ä¸èƒ½ä¸ºç©º'
        },
        {
            type: 'input',
            name: 'projectDescription',
            message: 'é¡¹ç›®æè¿°:',
            default: (answers) => `${answers.projectName} - AI è¾…åŠ©å¼€å‘é¡¹ç›®`
        },
        {
            type: 'input',
            name: 'persona',
            message: 'AI è§’è‰²æè¿°:',
            default: 'ä½ æ˜¯ä¸€åä¸¥è°¨çš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œæ“…é•¿ç¼–å†™é«˜è´¨é‡ä»£ç '
        }
    ]);
    variables.projectName = projectName;
    variables.persona = persona;
    variables.projectDescription = projectDescription;
    // æ ¹æ®ä¸åŒæ¨¡æ¿å’Œå·¥å…·é›†æ”¶é›†ç‰¹å®šçš„å˜é‡
    await collectTemplateSpecificVariables(variables, template);
    await collectToolSpecificVariables(variables, toolset);
    return variables;
}
/**
 * æ”¶é›†æ¨¡æ¿ç‰¹å®šçš„å˜é‡
 * æ ¹æ®é€‰æ‹©çš„æ¨¡æ¿æ”¶é›†é¢å¤–çš„é…ç½®å˜é‡
 *
 * @param variables å˜é‡å¯¹è±¡ï¼ˆä¼šè¢«ä¿®æ”¹ï¼‰
 * @param template æ¨¡æ¿åç§°
 */
async function collectTemplateSpecificVariables(variables, template) {
    if (template === 'advanced-multi' || template === 'team-collaboration') {
        console.log(chalk.gray('\n  é«˜çº§æ¨¡æ¿é…ç½®\n'));
        const advanced = await inquirer.prompt([
            {
                type: 'list',
                name: 'primaryLanguage',
                message: 'ä¸»è¦ç¼–ç¨‹è¯­è¨€:',
                choices: [
                    'TypeScript',
                    'JavaScript',
                    'Python',
                    'Java',
                    'Go',
                    'Rust',
                    'C#',
                    'PHP',
                    'å…¶ä»–'
                ],
                default: 'TypeScript'
            },
            {
                type: 'list',
                name: 'framework',
                message: 'ä¸»è¦æ¡†æ¶:',
                choices: [
                    'React',
                    'Vue',
                    'Angular',
                    'Next.js',
                    'Express',
                    'NestJS',
                    'FastAPI',
                    'Spring Boot',
                    'Django',
                    'å…¶ä»–'
                ]
            },
            {
                type: 'confirm',
                name: 'useTypeScript',
                message: 'ä½¿ç”¨ TypeScript?',
                default: true
            },
            {
                type: 'checkbox',
                name: 'techStack',
                message: 'æŠ€æœ¯æ ˆ (å¯å¤šé€‰):',
                choices: [
                    'Node.js',
                    'React',
                    'Vue',
                    'Express',
                    'MongoDB',
                    'PostgreSQL',
                    'Redis',
                    'Docker'
                ]
            }
        ]);
        Object.assign(variables, advanced);
    }
    if (template.includes('claude')) {
        console.log(chalk.gray('\n  Claude ç‰¹å®šé…ç½®\n'));
        const claude = await inquirer.prompt([
            {
                type: 'list',
                name: 'responseStyle',
                message: 'Claude å“åº”é£æ ¼:',
                choices: [
                    { name: 'ç®€æ´ (å¿«é€Ÿå›å¤)', value: 'ç®€æ´' },
                    { name: 'è¯¦ç»† (å®Œæ•´è§£é‡Š)', value: 'è¯¦ç»†' },
                    { name: 'æ•™å­¦å¼ (é€æ­¥å¼•å¯¼)', value: 'æ•™å­¦å¼' },
                    { name: 'åä½œå¼ (äº¤äº’è®¨è®º)', value: 'åä½œå¼' }
                ],
                default: 'åä½œå¼'
            }
        ]);
        variables.responseStyle = claude.responseStyle;
    }
    if (template === 'custom') {
        console.log(chalk.gray('\n  è‡ªå®šä¹‰é…ç½®\n'));
        console.log(chalk.yellow('  æç¤º: è‡ªå®šä¹‰é…ç½®å°†ä½¿ç”¨é»˜è®¤å€¼ï¼Œæ‚¨å¯ä»¥ç¨åæ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶'));
    }
}
/**
 * æ”¶é›†å·¥å…·ç‰¹å®šçš„å˜é‡
 * æ ¹æ®é€‰æ‹©çš„å·¥å…·é›†æ”¶é›†æ¯ä¸ªå·¥å…·çš„ç‰¹å®šé…ç½®
 *
 * @param variables å˜é‡å¯¹è±¡ï¼ˆä¼šè¢«ä¿®æ”¹ï¼‰
 * @param toolset å·¥å…·é›†æ•°ç»„
 */
async function collectToolSpecificVariables(variables, toolset) {
    // Gemini ç‰¹å®šé…ç½®
    if (toolset.includes('gemini')) {
        console.log(chalk.gray('\n  Gemini é…ç½®\n'));
        const gemini = await inquirer.prompt([
            {
                type: 'list',
                name: 'geminiModel',
                message: 'Gemini æ¨¡å‹é€‰æ‹©:',
                choices: [
                    { name: 'gemini-2.0-flash-exp (æœ€æ–°å®éªŒç‰ˆ)', value: 'gemini-2.0-flash-exp' },
                    { name: 'gemini-pro (ç¨³å®šç‰ˆ)', value: 'gemini-pro' },
                    { name: 'gemini-pro-vision (è§†è§‰æ”¯æŒ)', value: 'gemini-pro-vision' }
                ],
                default: 'gemini-2.0-flash-exp'
            },
            {
                type: 'number',
                name: 'temperature',
                message: 'Temperature (0.0-2.0, æ¨è0.2):',
                default: 0.2,
                validate: (value) => {
                    if (value < 0 || value > 2)
                        return 'è¯·è¾“å…¥ 0.0 åˆ° 2.0 ä¹‹é—´çš„æ•°å­—';
                    return true;
                }
            },
            {
                type: 'number',
                name: 'maxTokens',
                message: 'æœ€å¤§è¾“å‡º tokens (1-8192):',
                default: 8192,
                validate: (value) => {
                    if (value < 1 || value > 8192)
                        return 'è¯·è¾“å…¥ 1 åˆ° 8192 ä¹‹é—´çš„æ•°å­—';
                    return true;
                }
            },
            {
                type: 'confirm',
                name: 'enableMultimodal',
                message: 'å¯ç”¨å¤šæ¨¡æ€æ”¯æŒ (å›¾ç‰‡/è§†é¢‘)?',
                default: false
            },
            {
                type: 'confirm',
                name: 'enableCodeOptimization',
                message: 'å¯ç”¨ä»£ç ç”Ÿæˆä¼˜åŒ–?',
                default: true
            }
        ]);
        Object.assign(variables, gemini);
    }
    // Claude ç‰¹å®šé…ç½®
    if (toolset.includes('claude')) {
        console.log(chalk.gray('\n  Claude é…ç½®\n'));
        const claude = await inquirer.prompt([
            {
                type: 'list',
                name: 'claudeModel',
                message: 'Claude æ¨¡å‹é€‰æ‹©:',
                choices: [
                    { name: 'claude-3-5-sonnet-20241022 (æœ€æ–°)', value: 'claude-3-5-sonnet-20241022' },
                    { name: 'claude-3-opus (æœ€å¼º)', value: 'claude-3-opus' },
                    { name: 'claude-3-sonnet (å¹³è¡¡)', value: 'claude-3-sonnet' },
                    { name: 'claude-3-haiku (å¿«é€Ÿ)', value: 'claude-3-haiku' }
                ],
                default: 'claude-3-5-sonnet-20241022'
            },
            {
                type: 'confirm',
                name: 'enableVision',
                message: 'å¯ç”¨ Claude è§†è§‰åŠŸèƒ½?',
                default: false
            },
            {
                type: 'number',
                name: 'maxTokens',
                message: 'æœ€å¤§è¾“å‡º tokens (1-4096):',
                default: 4000,
                validate: (value) => {
                    if (value < 1 || value > 4096)
                        return 'è¯·è¾“å…¥ 1 åˆ° 4096 ä¹‹é—´çš„æ•°å­—';
                    return true;
                }
            }
        ]);
        Object.assign(variables, claude);
    }
    // Cursor ç‰¹å®šé…ç½®
    if (toolset.includes('cursor')) {
        console.log(chalk.gray('\n  Cursor é…ç½®\n'));
        const cursor = await inquirer.prompt([
            {
                type: 'list',
                name: 'cursorModel',
                message: 'Cursor AI æ¨¡å‹:',
                choices: [
                    { name: 'gpt-4 (æ¨è)', value: 'gpt-4' },
                    { name: 'gpt-4-turbo (æ›´å¿«)', value: 'gpt-4-turbo' },
                    { name: 'gpt-3.5-turbo (ç»æµ)', value: 'gpt-3.5-turbo' },
                    { name: 'claude-3 (æ”¯æŒ)', value: 'claude-3' }
                ],
                default: 'gpt-4'
            },
            {
                type: 'confirm',
                name: 'enableComposer',
                message: 'å¯ç”¨ Cursor Composer (å¤šæ–‡ä»¶ç¼–è¾‘)?',
                default: true
            },
            {
                type: 'confirm',
                name: 'enableCopilot',
                message: 'å¯ç”¨ Tab è¡¥å…¨å»ºè®®?',
                default: true
            }
        ]);
        Object.assign(variables, cursor);
    }
    // OpenAI ç‰¹å®šé…ç½®
    if (toolset.includes('openai')) {
        console.log(chalk.gray('\n  OpenAI é…ç½®\n'));
        const openai = await inquirer.prompt([
            {
                type: 'list',
                name: 'openaiModel',
                message: 'OpenAI æ¨¡å‹é€‰æ‹©:',
                choices: [
                    { name: 'gpt-4 (æœ€å¼º)', value: 'gpt-4' },
                    { name: 'gpt-4-turbo (æ›´å¿«æ›´ä¾¿å®œ)', value: 'gpt-4-turbo' },
                    { name: 'gpt-4o (å¤šæ¨¡æ€)', value: 'gpt-4o' },
                    { name: 'gpt-3.5-turbo (ç»æµ)', value: 'gpt-3.5-turbo' }
                ],
                default: 'gpt-4-turbo'
            },
            {
                type: 'number',
                name: 'maxTokens',
                message: 'æœ€å¤§è¾“å‡º tokens (1-128000):',
                default: 4096,
                validate: (value) => {
                    if (value < 1 || value > 128000)
                        return 'è¯·è¾“å…¥ 1 åˆ° 128000 ä¹‹é—´çš„æ•°å­—';
                    return true;
                }
            },
            {
                type: 'number',
                name: 'temperature',
                message: 'Temperature (0.0-2.0):',
                default: 0.7,
                validate: (value) => {
                    if (value < 0 || value > 2)
                        return 'è¯·è¾“å…¥ 0.0 åˆ° 2.0 ä¹‹é—´çš„æ•°å­—';
                    return true;
                }
            },
            {
                type: 'confirm',
                name: 'streamResponse',
                message: 'å¯ç”¨æµå¼å“åº”?',
                default: true
            }
        ]);
        Object.assign(variables, openai);
    }
    // ä»£ç é£æ ¼ç›¸å…³é…ç½®ï¼ˆæ‰€æœ‰å·¥å…·é€šç”¨ï¼‰
    console.log(chalk.gray('\n  é€šç”¨ä»£ç é£æ ¼é…ç½®\n'));
    const codeStyle = await inquirer.prompt([
        {
            type: 'list',
            name: 'indentStyle',
            message: 'ä»£ç ç¼©è¿›é£æ ¼:',
            choices: [
                { name: '2ä¸ªç©ºæ ¼ (æ¨è)', value: '2 spaces' },
                { name: '4ä¸ªç©ºæ ¼', value: '4 spaces' },
                { name: 'Tab', value: 'tabs' }
            ],
            default: '2 spaces'
        },
        {
            type: 'confirm',
            name: 'enablePrettier',
            message: 'å¯ç”¨ Prettier æ ¼å¼åŒ–?',
            default: true
        },
        {
            type: 'confirm',
            name: 'enableESLint',
            message: 'å¯ç”¨ ESLint æ£€æŸ¥?',
            default: true
        },
        {
            type: 'confirm',
            name: 'requireTests',
            message: 'è¦æ±‚ç¼–å†™å•å…ƒæµ‹è¯•?',
            default: true
        }
    ]);
    Object.assign(variables, codeStyle);
}
/**
 * æ ¹æ®å·¥å…·é›†è·å–æ¨èçš„æ¨¡æ¿é€‰é¡¹
 */
function getTemplateChoices(toolset) {
    const choices = [];
    // å•å·¥å…·æ¨¡æ¿
    if (toolset.length === 1) {
        if (toolset.includes('gemini')) {
            choices.push({ name: 'Gemini åŸºç¡€æ¨¡æ¿ (æ¨è)', value: 'gemini-basic' }, { name: 'Gemini é«˜çº§æ¨¡æ¿', value: 'gemini-advanced' });
        }
        if (toolset.includes('claude')) {
            choices.push({ name: 'Claude åŸºç¡€æ¨¡æ¿ (æ¨è)', value: 'claude-basic' }, { name: 'Claude é«˜çº§æ¨¡æ¿', value: 'claude-advanced' });
        }
        if (toolset.includes('cursor')) {
            choices.push({ name: 'Cursor åŸºç¡€æ¨¡æ¿ (æ¨è)', value: 'cursor-basic' }, { name: 'Cursor Pro æ¨¡æ¿', value: 'cursor-pro' });
        }
        if (toolset.includes('openai')) {
            choices.push({ name: 'OpenAI åŸºç¡€æ¨¡æ¿ (æ¨è)', value: 'openai-basic' }, { name: 'OpenAI é«˜çº§æ¨¡æ¿', value: 'openai-advanced' });
        }
    }
    else {
        // å¤šå·¥å…·ç»„åˆæ¨¡æ¿
        choices.push({ name: 'å¤šå·¥å…·åŸºç¡€æ¨¡æ¿ (æ¨è)', value: 'multi-basic' }, { name: 'å¤šå·¥å…·é«˜çº§æ¨¡æ¿', value: 'advanced-multi' }, { name: 'å›¢é˜Ÿåä½œæ¨¡æ¿', value: 'team-collaboration' });
    }
    // å§‹ç»ˆæä¾›é€šç”¨é€‰é¡¹
    choices.push({ name: 'è‡ªå®šä¹‰é…ç½®', value: 'custom' });
    return choices;
}
